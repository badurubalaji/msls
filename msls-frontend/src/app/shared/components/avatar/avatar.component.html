<div [class]="avatarClasses()" role="img" [attr.aria-label]="altText()">
  @if (showImage()) {
    <img
      class="msls-avatar__image"
      [src]="src()"
      [alt]="altText()"
      (error)="onImageError()"
      (load)="onImageLoad()"
    />
  } @else {
    <span class="msls-avatar__initials" aria-hidden="true">
      @if (initials()) {
        {{ initials() }}
      } @else {
        <!-- Default user icon -->
        <svg
          class="msls-avatar__placeholder"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M12 4a4 4 0 100 8 4 4 0 000-8zm-2 9a4 4 0 00-4 4v1a2 2 0 002 2h8a2 2 0 002-2v-1a4 4 0 00-4-4h-4z"
            clip-rule="evenodd"
          />
        </svg>
      }
    </span>
  }
</div>
